<!DOCTYPE html>
<html>
<head>
  <!-- Site made with Mobirise Website Builder v3.11, https://mobirise.com -->
  <meta charset="UTF-8">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v3.11, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <meta name="description" content="Web Builder Description">
  <title>MW computer vision</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic&amp;subset=latin">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
  <link rel="stylesheet" href="assets/bootstrap-material-design-font/css/material.css">
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/et-line-font-plugin/style.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  
  
  
</head>
<body>
<section id="menu-36">

    <nav class="navbar navbar-dropdown bg-color transparent navbar-fixed-top" style="background-color:rgba(0,0,0,0.75);">
        <div class="container">

            <div class="mbr-table">
                <div class="mbr-table-cell">

                    <div class="navbar-brand">
                        <a href="http://icat.vt.edu/" target="_blank" class="navbar-logo"><img src="assets/images/icat-vt-lockup-cmyk-396x128.png" alt="Mobirise"></a>
                        <a class="navbar-caption text-danger" href="https://mobirise.com"></a>
                    </div>

                </div>
                <div class="mbr-table-cell">

                    <button class="navbar-toggler pull-xs-right hidden-md-up" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
                        <div class="hamburger-icon"></div>
                    </button>

                    <ul class="nav-dropdown collapse pull-xs-right nav navbar-nav navbar-toggleable-sm" id="exCollapsingNavbar"><li class="nav-item"><a class="nav-link link" href="index.html">Home</a></li><li class="nav-item"><a class="nav-link link" href="overview.html">Overview</a></li><li class="nav-item dropdown"><a class="nav-link link dropdown-toggle" data-toggle="dropdown-submenu" href="https://mobirise.com/" aria-expanded="false">Research</a><div class="dropdown-menu"><a class="dropdown-item" href="ResearchOverview.html">Overview</a><a class="dropdown-item" href="cv.html">Computer Vision</a><a class="dropdown-item" href="server.html">Server</a><div class="dropdown"><a class="dropdown-item dropdown-toggle" href="client.html" data-toggle="dropdown-submenu" aria-expanded="false">Client</a><div class="dropdown-menu dropdown-submenu"><a class="dropdown-item" href="UnityClient.html">Unity</a><a class="dropdown-item" href="X3D.html">X3D</a></div></div><a class="dropdown-item" href="infrastructure.html">Research Infrastructure</a></div></li><li class="nav-item"><a class="nav-link link" href="application.html" aria-expanded="false">Applications</a></li><li class="nav-item dropdown open"><a class="nav-link link dropdown-toggle" href="application.html" aria-expanded="true" data-toggle="dropdown-submenu">More</a><div class="dropdown-menu"><a class="dropdown-item" href="people.html">People</a><a class="dropdown-item" href="links.html">Links</a><a class="dropdown-item" href="https://webapps.es.vt.edu/confluence/display/IMW/">Confluence</a></div></li></ul>
                    <button hidden="" class="navbar-toggler navbar-close" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
                        <div class="close-icon"></div>
                    </button>

                </div>
            </div>

        </div>
    </nav>

</section>



<section class="engine"><a rel="external" href="https://mobirise.com">mobirise.com</a></section><section class="mbr-section article mbr-parallax-background mbr-after-navbar" id="msg-box8-v" style="background:linear-gradient(to bottom, #61727c 0%, #708089 40%, #acb7bf 100%); padding-top: 160px; padding-bottom: 160px;">

  
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2 text-xs-center">
                <h3 class="mbr-section-title display-2">Computer Vision</h3>
                <div class="lead"></div>
                
            </div>
        </div>
    </div>

</section>


<section class="mbr-section mbr-section__container article" id="header3-3e" style="background-color: rgb(255, 255, 255); padding-top: 40px; padding-bottom: 20px;">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h3 class="mbr-section-title display-2"><a href="challenge/index.html"><font color="#bc2b2b"><u>Mirror Worlds Challenge</u></font></a></h3>
                
            </div>
        </div>
    </div>
</section>

<section class="mbr-section article mbr-section__container" id="content1-1s" style="background-color: rgb(255, 255, 255); padding-top: 20px; padding-bottom: 20px;">

    <div class="container">
        <div class="row">
            <div class="col-xs-12 lead"><p>Using the 35 fisheye cameras placed around the building, we developed blob tracking algorithm to track people inside the building.</p></div>
        </div>
    </div>

</section>

<section class="mbr-section mbr-section__container" id="image2-1t" style="background-color: rgb(255, 255, 255); padding-top: 80px; padding-bottom: 80px;">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <figure class="mbr-figure">
                    <div><img src="assets/images/screen-shot-2017-01-20-at-1-1400x1169.png"></div>

                    

                </figure>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section article mbr-section__container" id="content1-1u" style="background-color: rgb(255, 255, 255); padding-top: 20px; padding-bottom: 20px;">

    <div class="container">
        <div class="row">
            <div class="col-xs-12 lead"><p>The input devices used are Vivotek fish eye cameras, which capture a video frames as input data for tracking, and Kinect V2 , which is used to capture RGB and depth images. Image acquisition occurs at 15 FPS 1280 x 720 resolution. These cameras are fixed in the ceiling and they capture 360 degree images of the scene. We have to configure these network cameras to use them in our project. Figure 4 shows a flow diagram containing the steps executed from the point when an image is captured to the point where the virtual model is updated according to any changes that occur in the physical world.</p><p><br></p><p>Tracking through Multiple cameras:</p><p>The existing model was only designed for one camera. We successfully extended it to work with multiple cameras, which is essential to facilitate a smooth transition when a person moves from the field of view of one camera to another. We cropped the images and used Kalman filtering to achieve the same. The co-ordination between Unity model and actual video frames is done by calculating the scaling factor to map the blob location in virtual environment.</p><p><br></p><p>Background estimation:</p><p>Initially, the system was using Gaussian background subtraction to estimate the background. We switched over instead to the k-Nearest neighborhood classification algorithm. We have considered 500 frames to estimate the background model. This is because the people being tracked will not always be in a constant state of motion. The only drawback of this approach is that if some object in the scene is moved by a person, that object will remain in the foreground for some extra time before it is removed. For people, only a prolonged interval of complete stillness will result in someone being removed from the foreground and that object will be treated as part of the background.</p><p><br></p><p>Kalman filtering:</p><p>To improve real-time tracking of people in the physical world, we used Kalman filtering. Our system was based on OpenCV 3.0. The transition matrix was generated by an inbuilt OpenCV function. We have considered centroid.x , centroid.y, centroid.z states. The third state is constant in our case as we are not considering the depth variation. The centroid for the blob location is calculated by finding the contours in the binary images. Contour filtration algorithm is used to filter out the small false blobs and also erase them from the track. The filtered tracks with current centroid locations are predicted by using cv::KalmanFilter::predict() function. This will predict the centroid location i.e. centroid.x , centroid.y, centroid.z. Based on the predicted location and calculated position of the centroids, the location is corrected by using&nbsp;</p><p>cv::KalmanFilter::correct(). In the qualitative video section we can see that object is tracked with consistent ID.</p><p><br></p><p>Communication with server:</p><p>The network consists of several different components. First, the blob tracking software will send the data it gathers to a local Node install via UNIX pipes. A connection is established to data server via websockets. These data servers will be listening to websockets connection on predefined port. The current connection to the data servers are on port 9999 with the server url dev.mirrorworlds.vt.edu. This is an online server and data from the local client is sent through internet. The server will be able to support any number of blob data sources pushing data to it at once, the only limitations being the bandwidth of the network and the ability of the machine to keep up with processing all of the incoming data. This server is able to receive data from any number of clients to receive blob information data in real time. The information currently sent to the server contains the following structure extracted from the input data: Camera ID, origin location, blob bounding box width, height, center of the blob location source type (Matlab / OpenCV ), image width, image height and orientation. Currently the structure does not provide any information about the z co-ordinate for the blob location. Our plan is to extract the depth information from the scene using Kinect.</p><p><br></p><p>Calibration:</p><p>Before any image processing algorithm is carried out on the video frames, we applied image warping on the frames to crop the region of interest (floor region) which is the main region for tracking. For this, we carried out the intrinsic parameter calibration to get the camera matrix and distortion coefficient corresponding to the fish eye cameras. This is a one-time operation, and was done with the help of checkerboard images. These parameters have to be computed for all the cameras as hardware configuration varies slightly across difference cameras. We have taken checkerboard images to cover the entire 360 degree scene captured by fish eye camera to obtain the correct intrinsic parameters for fisheye cameras.</p><p><br></p><p>Distortion Coefficients D for Camera 1 (Observation Room) : [ 0.00191756652, -0.0303766206, 0.0412752517,  -0.0189904887 ]</p><p>Camera matrix K =    [ 339.81179, -3140.46069, 529.799377,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0, 340.305389, 479.500061,&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0, 0, 1];</p><p><br></p><p>These calculated parameters are used to apply image warping on the images in real time video frames. We can observe the wall edges shown in the left images are significantly improved in the right image. The offset in the previous approach was removed by this modification.</p><p><br></p><p><br></p><p><br></p><p><br></p></div>
        </div>
    </div>

</section>

<section class="mbr-section mbr-section__container" id="image2-1v" style="background-color: rgb(255, 255, 255); padding-top: 80px; padding-bottom: 80px;">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <figure class="mbr-figure">
                    <div><img src="assets/images/flow-chart-1-1400x4035.png"></div>

                    

                </figure>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section mbr-section__container" id="image2-1w" style="background-color: rgb(255, 255, 255); padding-top: 80px; padding-bottom: 80px;">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <figure class="mbr-figure">
                    <div><img src="assets/images/vlcsnap-2015-11-22-20h37m49s250-1400x840.png"></div>

                    

                </figure>
            </div>
        </div>
    </div>
</section>

<section class="mbr-cards mbr-section mbr-section-nopadding" id="features6-3o" style="background-color: rgb(239, 239, 239);">

    

    <div class="mbr-cards-row row">
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
              <div class="card cart-block">
                  <div class="card-img"><a href="cv.html" class="etl-icon icon-camera mbr-iconfont mbr-iconfont-features3"></a></div>
                  <div class="card-block">
                    <h4 class="card-title">Computer Vision</h4>
                    
                    
                    <div class="card-btn"><a href="cv.html" class="btn btn-primary">MORE</a></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img"><a href="server.html" class="etl-icon icon-gears mbr-iconfont mbr-iconfont-features3"></a></div>
                    <div class="card-block">
                        <h4 class="card-title">Server</h4>
                        
                        
                        <div class="card-btn"><a href="server.html" class="btn btn-primary">MORE</a></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img"><a href="UnityClient.html" class="mbri-users mbr-iconfont mbr-iconfont-features3"></a></div>
                    <div class="card-block">
                        <h4 class="card-title">Client</h4>
                        
                        
                        <div class="card-btn"><a href="UnityClient.html" class="btn btn-primary">MORE</a></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img"><a href="infrastructure.html" class="etl-icon icon-tools-2 mbr-iconfont mbr-iconfont-features3"></a></div>
                    <div class="card-block">
                        <h4 class="card-title">Research Infrastructure</h4>
                        
                        
                        <div class="card-btn"><a href="infrastructure.html" class="btn btn-primary">MORE</a></div>
                    </div>
                </div>
            </div>
        </div>
        
        
    </div>
</section>

    <section class="mbr-section mbr-section-md-padding mbr-footer footer1" id="contacts1-2q" style="background-color: rgb(0, 0, 0); padding-top: 30px; padding-bottom: 30px;">

        <div class="container">
            <div class="row">
                
                <div class="mbr-footer-content col-xs-6 col-md-4">
                    <p>This research is supported by the National Science Foundation under Grants No. 1305231.</p>
                </div>

                <div class="mbr-footer-content col-xs-6 col-md-4">
                
                </div>
               
                <div class="mbr-footer-content col-xs-6 col-md-4">
                    <p>Website created by Nuo Ma.<br>Design courtesy: Mobirise.</p>
                </div>

            </div>
        </div>
    </section>


  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="assets/tether/tether.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/smooth-scroll/SmoothScroll.js"></script>
  <script src="assets/dropdown/js/script.min.js"></script>
  <script src="assets/touchSwipe/jquery.touchSwipe.min.js"></script>
  <script src="assets/jarallax/jarallax.js"></script>
  <script src="assets/theme/js/script.js"></script>
  <script>
        (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-91771580-1', 'auto');
        ga('send', 'pageview');

    </script>
  
 <div id="scrollToTop" class="scrollToTop mbr-arrow-up"><a style="text-align: center;"><i class="mbr-arrow-up-icon"></i></a></div>
  </body>
</html>