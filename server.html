<!DOCTYPE html>
<html>
<head>
  <!-- Site made with Mobirise Website Builder v3.11, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v3.11, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <meta name="description" content="Web Page Creator Description">
  <title>MW server</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic&amp;subset=latin">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
  <link rel="stylesheet" href="assets/bootstrap-material-design-font/css/material.css">
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/et-line-font-plugin/style.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  
  
  
</head>
<body>
<section id="menu-36">

    <nav class="navbar navbar-dropdown bg-color transparent navbar-fixed-top" style="background-color:rgba(0,0,0,0.75);">
        <div class="container">

            <div class="mbr-table">
                <div class="mbr-table-cell">

                    <div class="navbar-brand">
                        <a href="http://icat.vt.edu/" target="_blank" class="navbar-logo"><img src="assets/images/icat-vt-lockup-cmyk-396x128.png" alt="Mobirise"></a>
                        <a class="navbar-caption text-danger" href="https://mobirise.com"></a>
                    </div>

                </div>
                <div class="mbr-table-cell">

                    <button class="navbar-toggler pull-xs-right hidden-md-up" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
                        <div class="hamburger-icon"></div>
                    </button>

                    <ul class="nav-dropdown collapse pull-xs-right nav navbar-nav navbar-toggleable-sm" id="exCollapsingNavbar"><li class="nav-item"><a class="nav-link link" href="index.html">Home</a></li><li class="nav-item"><a class="nav-link link" href="overview.html">Overview</a></li><li class="nav-item dropdown"><a class="nav-link link dropdown-toggle" data-toggle="dropdown-submenu" href="https://mobirise.com/" aria-expanded="false">Research</a><div class="dropdown-menu"><a class="dropdown-item" href="ResearchOverview.html">Overview</a><a class="dropdown-item" href="cv.html">Computer Vision</a><a class="dropdown-item" href="server.html">Server</a><div class="dropdown"><a class="dropdown-item dropdown-toggle" href="client.html" data-toggle="dropdown-submenu" aria-expanded="false">Client</a><div class="dropdown-menu dropdown-submenu"><a class="dropdown-item" href="UnityClient.html">Unity</a><a class="dropdown-item" href="X3D.html">X3D</a></div></div><a class="dropdown-item" href="infrastructure.html">Research Infrastructure</a></div></li><li class="nav-item"><a class="nav-link link" href="application.html" aria-expanded="false">Applications</a></li><li class="nav-item dropdown open"><a class="nav-link link dropdown-toggle" href="application.html" aria-expanded="true" data-toggle="dropdown-submenu">More</a><div class="dropdown-menu"><a class="dropdown-item" href="people.html">People</a><a class="dropdown-item" href="links.html">Links</a><a class="dropdown-item" href="https://webapps.es.vt.edu/confluence/display/IMW/">Confluence</a></div></li></ul>
                    <button hidden="" class="navbar-toggler navbar-close" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
                        <div class="close-icon"></div>
                    </button>

                </div>
            </div>

        </div>
    </nav>

</section>



<section class="engine"><a rel="external" href="https://mobirise.com">mobirise.com</a></section><section class="mbr-section article mbr-parallax-background mbr-after-navbar" id="msg-box8-v" style="background:linear-gradient(to bottom, #bc6851 0%, #c3745e 40%, #e1a593 100%); padding-top: 160px; padding-bottom: 160px;">

  
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2 text-xs-center">
                <h3 class="mbr-section-title display-2">Server</h3>
                <div class="lead"></div>
                
            </div>
        </div>
    </div>

</section>



<section class="mbr-section article mbr-section__container" id="content1-18" style="background-color: rgb(255, 255, 255); padding-top: 20px; padding-bottom: 20px;">

    <div class="container">
        <div class="row">
            <div class="col-xs-12 lead"><p>The networking infrastructure is formed through the interoperability of Data Sources, Listeners, and a Central Server. Reliable communication between these units is required to ensure the proper data generation and representation. Through theSocket.io library the data is able to be sent and received from a vast variety of clients without any changes make to the server. This allows flexibility in the uses of this infrastructure for future research projects as any data to the server to be received by all clients to facilitate interaction. Any client can register with the server to receive the blob stream to do any number of representations or gather statistics on the data. The server used to run all of the data through is a nodejs server that communicates through Socket.io and TCP. The job of the server is to transform all of the data received into useful blob information and broadcast it to all interested clients. The server is designed to be lightweight and modular so that the data can be received by the clients as fast as possible. Besides delivering the data received to every interested client the server also runs a Blob Manager that allows modification to the sent blobs.
            </p>
            <p><br></p>
            <p>
            Details:
• id: The id of this blob
• cameraID the specific camera this Id came from (together with id these uniquely identify a blob)
• origin: The center of the blob, specified in (x, y, z) coordinates. Coordinates of blobs in the building should consider these coordinates relative to the  learning lab observation suite pillar next to the door.
• orientation: The orientation of the blob, specified as an (x, y, z) vector and a rotation around that vector in radians. Blobs data coming from the cameras in the building currently have no way of determining orientation, and will always have an orientation of (0.0, 0.0, 0.0, 0.0).
• source: The source of this blob's data. For example a Matlab/OpenCV or a specific virtual client.
• updatedTime: The last time this blob's data was updated. currently set to always 0 in Matlab
• creationTime: The time when this blob first entered the scene and was created currently always set to 0 in matlab.
• boundingBox: The bounding box of blobs from the camera tracking system, specified as the (x, y) coordinate of the top left corner, as well as the width and height of the rectangle. The bounding box also includes the image height and image width of the actual image used to create the blobs. These are used by the blob manager to help determine global coordinates.
            </p>
            <p><br></p>
              <p>
            The blob manager is a sub-module within the server. Its constructor requires a callback that will be used whenever the blob manager deems a specific blob needed to be sent (function BlobManager(sendBlobCallback)). This callback will have a single parameter that is the blob to send to interested clients. The purpose of the blob manager is to preform CPU intensive tasks, this means in the future if the tasks become intensive enough the blob manager should be run in a separate thread or process from the server's front end to allow the nodejs event loop to run smoothly, permitting the continuous sending and receiving of data. The interface to hand off a blob to the blob manger for processing is the process blob method(method.processBlob = function (blob)). Once this blob has been sent to the manager through this function call it is no longer the responsibility of the calling class. The blob manager will then run any computations it needs to on the blob and if it is determined it needs to be sent, the blob will be returned to the calling class through the function callback given in the constructor with the intention of this blob being sent to the clients.
 <p><br></p>
The blob manager currently serves the function of transforming each blobs coordinates from the perspective of each individual camera in the building to a global coordinate system that does not require each client to be knowledgeable of the specific locations and orientations of each camera, and also makes the computation only have to happen once instead of on every individual client.Each camera has an x, y, z, width, height, and theta associated with it. These are all determined by physically measuring the respective qualities from a predetermined origin. To aid in the addition of new cameras and more easily keep the server able to support all cameras, the data is read in from a CSV file containing all of the relevant information. The specification for the CSV file can be found here: (Eric Williamson insert link to CSV file spec once it is finalized). The use of these global coordinates allows the easier mapping of movements of blobs without having to worry about the properties of each individual camera. For some specialized clients the specific cameraID will remain on the blobs so they can ignore blobs that have originated from other cameras than the ones the are concerned about.
 <p><br></p><p><br></p>
Additional features can be added to the blob manger as needed without requiring changes to the part of the server sending and receiving the data.

            </p>
            <p><br></p>
              <p>
            

            
            </p>
            <p><br></p>

            </div>
        </div>
    </div>

</section>

<section class="mbr-cards mbr-section mbr-section-nopadding" id="features6-3p" style="background-color: rgb(239, 239, 239);">

    

    <div class="mbr-cards-row row">
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
              <div class="card cart-block">
                  <div class="card-img"><a href="cv.html" class="etl-icon icon-camera mbr-iconfont mbr-iconfont-features3"></a></div>
                  <div class="card-block">
                    <h4 class="card-title">Computer Vision</h4>
                    
                    
                    <div class="card-btn"><a href="cv.html" class="btn btn-primary">MORE</a></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img"><a href="server.html" class="etl-icon icon-gears mbr-iconfont mbr-iconfont-features3"></a></div>
                    <div class="card-block">
                        <h4 class="card-title">Server</h4>
                        
                        
                        <div class="card-btn"><a href="server.html" class="btn btn-primary">MORE</a></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img"><a href="UnityClient.html" class="mbri-users mbr-iconfont mbr-iconfont-features3"></a></div>
                    <div class="card-block">
                        <h4 class="card-title">Client</h4>
                        
                        
                        <div class="card-btn"><a href="UnityClient.html" class="btn btn-primary">MORE</a></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mbr-cards-col col-xs-12 col-lg-3" style="padding-top: 80px; padding-bottom: 80px;">
            <div class="container">
                <div class="card cart-block">
                    <div class="card-img"><a href="infrastructure.html" class="etl-icon icon-tools-2 mbr-iconfont mbr-iconfont-features3"></a></div>
                    <div class="card-block">
                        <h4 class="card-title">Research Infrastructure</h4>
                        
                        
                        <div class="card-btn"><a href="infrastructure.html" class="btn btn-primary">MORE</a></div>
                    </div>
                </div>
            </div>
        </div>
        
        
    </div>
</section>

    <section class="mbr-section mbr-section-md-padding mbr-footer footer1" id="contacts1-2q" style="background-color: rgb(0, 0, 0); padding-top: 30px; padding-bottom: 30px;">

        <div class="container">
            <div class="row">
                
                <div class="mbr-footer-content col-xs-6 col-md-4">
                    <p>This research is supported by the National Science Foundation under Grants No. 1305231.</p>
                </div>

                <div class="mbr-footer-content col-xs-6 col-md-4">
                
                </div>
               
                <div class="mbr-footer-content col-xs-6 col-md-4">
                    <p>Website created by Nuo Ma.<br>Design courtesy: Mobirise.</p>
                </div>

            </div>
        </div>
    </section>


  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="assets/tether/tether.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/smooth-scroll/SmoothScroll.js"></script>
  <script src="assets/dropdown/js/script.min.js"></script>
  <script src="assets/touchSwipe/jquery.touchSwipe.min.js"></script>
  <script src="assets/jarallax/jarallax.js"></script>
  <script src="assets/theme/js/script.js"></script>
  <script>
        (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-91771580-1', 'auto');
        ga('send', 'pageview');

    </script>
  
 <div id="scrollToTop" class="scrollToTop mbr-arrow-up"><a style="text-align: center;"><i class="mbr-arrow-up-icon"></i></a></div>
  </body>
</html>